\section{Experimental results}\label{sec:experimental}

The initial environment is

\[
    \Gamma = \{ nil = \cons{nil}(),\ one = \cons{1}() \}
\]

\newcommand{\retTrue}{\matchreturn{\textsf{True}}}
\newcommand{\retFalse}{\matchreturn{\textsf{False}}}
\newcommand{\isShortBody}{\matchalt{\matchpat{(x : y : ys)}{\retFalse}}{\matchpat{ys}{\retTrue}}}
\newcommand{\isShortPMC}{\ensuremath{\abstr{\isShortBody}}}
\newcommand{\isShort}{\textsf{isShort}}
% \newcommand{\listOne}{\textsf{cons}(one,nil)}
\newcommand{\listOne}{(one : nil)}

\begin{figure*}
    \[
        \begin{array}{llll}
            \hline
            \text{Heap} & \text{Control}                                    & \text{RetStack}                                              & \text{Rule}            \\
            \hline
            \Gamma      & \eval{\llet{res = \listOne}{\app{\isShort}{res}}} & []                                                           & (\smallrule{Let})      \\
            \Gamma \cup \{(l_1\mapsto\listOne)\}
                        & \eval{\app{\isShort}{l_1}}                        & []                                                           & (\smallrule{App1})     \\
            \Gamma'     & \eval{\isShort}                                   & [l_1]                                                        & (\smallrule{App2})     \\
            \Gamma'     & \eval{\abstr{\matcharg{l_1}{\isShortBody}}}       & []                                                           & (\smallrule{Sat})      \\
            \Gamma'     & \match{[]}{\matcharg{l_1}{\isShortBody}}          & [\$]                                                         & (\smallrule{Arg})      \\
            \Gamma'     & \match{[l_1]}{\isShortBody}                       & [\$]                                                         & (\smallrule{Alt1})     \\
            \Gamma'     & \match{[l_1]}{\matchpat{(x : y : ys)}{\retFalse}} & [?([l_1],\matchpat{ys}{\matchreturn{\textsf{True}}}),~\dots] & (\smallrule{Cons1})    \\
            \Gamma'     & \eval{l_1}                                        & [@([],\matchpat{(x : (y : ys))}{\retFalse}),~\dots]          & (\smallrule{Var})      \\
            \Gamma'     & \eval{\listOne}                                   & [@([],\matchpat{(x : (y : ys))}{\retFalse}),~\dots]          & (\smallrule{Cons2})    \\
            \Gamma'     & \match{[]}{\matchfail}                            & [?([l_1],\matchpat{ys}{\matchreturn{\textsf{True}}}),~\dots] & (\smallrule{Fail})     \\
            \Gamma'     & \match{[l_1]}{\matchpat{ys}{\retTrue}}            & [\$]                                                         & (\smallrule{Alt2})     \\
            \Gamma'     & \match{[]}{\retTrue}                              & [\$]                                                         & (\smallrule{Return1B}) \\
            \Gamma'     & \eval{\textsf{True}}                              & []                                                           & \text{Success}         \\
        \end{array}
    \]
    \caption{Example application of \textsf{isShort} to a list with a single element}\label{ex:isShort}
\end{figure*}